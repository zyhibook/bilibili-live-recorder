/*!
 * bilibili-live-downloader v1.0.0
 * Github: undefined
 * (c) 2018-2019 Harvey Zack
 * Released under the MIT License.
 */

!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).Content=n()}(this,(function(){"use strict";var e=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")};function n(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var t=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e},o=function(){function n(){e(this,n),this.data=new Uint8Array}return t(n,[{key:"load",value:function(){}},{key:"download",value:function(){}}]),n}(),i=function(){function n(){e(this,n),this.data=new Uint8Array}return t(n,[{key:"load",value:function(){}},{key:"download",value:function(){}}]),n}();return new function n(){e(this,n);var t=document.createElement("script");t.src=chrome.extension.getURL("injected/index.js"),t.onload=function(){return t.remove()},(document.head||document.body||document.documentElement).appendChild(t);var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.href=chrome.extension.getURL("injected/index.css"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(n){return setTimeout(n,e)}))}().then((function(){return document.head.appendChild(a)}));var r=new o,c=new i;window.addEventListener("message",(function(e){if("https://live.bilibili.com"===e.origin){var n=e.data,t=n.type,o=n.data;switch(t){case"MP4Buffer":c.load(o);break;case"FLVBuffer":r.load(o);break;case"MP4Download":c.download();break;case"FLVDownload":r.download()}}}))}}));
