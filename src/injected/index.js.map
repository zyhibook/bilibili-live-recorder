{"version":3,"file":"index.js","sources":["dev/index.js"],"sourcesContent":["import './index.scss';\n\nconst { appendBuffer } = SourceBuffer.prototype;\nSourceBuffer.prototype.appendBuffer = function(buf) {\n    window.postMessage({\n        type: 'MP4Buffer',\n        data: buf.slice(),\n    });\n    return appendBuffer.call(this, buf);\n};\n\nconst { read } = ReadableStreamDefaultReader.prototype;\nReadableStreamDefaultReader.prototype.read = function() {\n    const promiseResult = read.call(this);\n    promiseResult.then(({ done, value }) => {\n        if (done) return;\n        window.postMessage({\n            type: 'FLVBuffer',\n            data: value.slice(),\n        });\n    });\n    return promiseResult;\n};\n"],"names":["appendBuffer","SourceBuffer","prototype","buf","window","postMessage","type","data","slice","call","read","ReadableStreamDefaultReader","promiseResult","then","done","value"],"mappings":";;;;;QAEQA,eAAiBC,YAAY,CAACC,UAA9BF;;IACRC,YAAY,CAACC,SAAb,CAAuBF,YAAvB,GAAsC,UAASG,GAAT,EAAc;IAChDC,EAAAA,MAAM,CAACC,WAAP,CAAmB;IACfC,IAAAA,IAAI,EAAE,WADS;IAEfC,IAAAA,IAAI,EAAEJ,GAAG,CAACK,KAAJ;IAFS,GAAnB;IAIA,SAAOR,YAAY,CAACS,IAAb,CAAkB,IAAlB,EAAwBN,GAAxB,CAAP;IACH,CAND;;QAQQO,OAASC,2BAA2B,CAACT,UAArCQ;;IACRC,2BAA2B,CAACT,SAA5B,CAAsCQ,IAAtC,GAA6C,YAAW;IACpD,MAAME,aAAa,GAAGF,IAAI,CAACD,IAAL,CAAU,IAAV,CAAtB;IACAG,EAAAA,aAAa,CAACC,IAAd,CAAmB,gBAAqB;IAAA,QAAlBC,IAAkB,QAAlBA,IAAkB;IAAA,QAAZC,KAAY,QAAZA,KAAY;IACpC,QAAID,IAAJ,EAAU;IACVV,IAAAA,MAAM,CAACC,WAAP,CAAmB;IACfC,MAAAA,IAAI,EAAE,WADS;IAEfC,MAAAA,IAAI,EAAEQ,KAAK,CAACP,KAAN;IAFS,KAAnB;IAIH,GAND;IAOA,SAAOI,aAAP;IACH,CAVD;;;;"}